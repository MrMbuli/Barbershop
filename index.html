<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>King's Cut Barbershop â€” Premium House-call Grooming</title>
<meta name="description" content="King's Cut Barbershop â€” House-call barbering in Soweto & Roodepoort. Fresh fades, beard sculpting & loyalty rewards." />
<!-- Manifest (created dynamically on load) -->
<link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='128' height='128'%3E%3Crect width='100%25' height='100%25' fill='%230f0f11'/%3E%3Ctext x='50%25' y='55%25' font-size='64' text-anchor='middle' fill='%23c9a84a' font-family='Segoe UI, Roboto, Arial'%3EK%3C/text%3E%3C/svg%3E">
<style>
  :root{
    --bg:#0f0f11;
    --panel:#131315;
    --muted:#b9b9b9;
    --gold:#c9a84a;
    --accent:#8e8e93;
    --glass: rgba(255,255,255,0.04);
    --radius:12px;
  }
  *{box-sizing:border-box;margin:0;padding:0}
  html,body{height:100%}
  body{font-family:"Segoe UI", Roboto, Arial, sans-serif;background:var(--bg);color:#eaeaea;-webkit-font-smoothing:antialiased;line-height:1.45}
  a{text-decoration:none;color:inherit}
  .modern-header{
    position:fixed;top:0;left:0;right:0;height:72px;
    display:flex;align-items:center;justify-content:space-between;padding:14px 20px;
    background:linear-gradient(180deg,rgba(12,12,12,0.86),rgba(12,12,12,0.7));
    backdrop-filter: blur(6px);z-index:1400;border-bottom:1px solid rgba(255,255,255,0.03)
  }
  .branding{display:flex;flex-direction:column}
  .logo-title{font-weight:800;font-size:1.08rem;letter-spacing:.3px}
  .tagline{font-size:0.78rem;color:var(--muted);margin-top:2px}
  .menu-icon{width:40px;height:28px;border:0;background:none;display:flex;flex-direction:column;justify-content:space-between;cursor:pointer}
  .menu-icon span{height:3px;background:#d7d7d7;border-radius:3px;transition:transform .28s,opacity .2s}
  .menu-icon.active .top{transform:translateY(9px) rotate(45deg)}
  .menu-icon.active .middle{opacity:0;transform:scaleX(.2)}
  .menu-icon.active .bottom{transform:translateY(-9px) rotate(-45deg)}

  .modern-drawer{
    position:fixed;top:0;right:-340px;width:320px;height:100%;padding:96px 18px 22px;background:linear-gradient(180deg,#111214,#151517);
    transition:right .34s cubic-bezier(.2,.9,.2,1);z-index:1350;border-left:1px solid rgba(255,255,255,0.02);overflow-y:auto;
  }
  .modern-drawer.active{right:0}
  .modern-drawer h2{font-size:1.15rem;margin-bottom:12px}
  .modern-drawer ul{list-style:none;padding:0;margin:0}
  .modern-drawer li{margin:10px 0}
  .drawer-btn{display:block;padding:12px;border-radius:10px;text-align:center;font-weight:800;margin-top:10px}
  .drawer-btn.whatsapp{background:linear-gradient(90deg,#2fbf5e,#1f8f4b);color:#062308}
  .drawer-btn.call{background:#222428;color:#eaeaea;border:1px solid rgba(255,255,255,0.03)}

  .placeholder-space{height:80px}

  .hero{
    background:
      linear-gradient(180deg, rgba(6,6,6,0.45), rgba(6,6,6,0.6)),
      url('background.jpg') center/cover no-repeat;
    min-height:360px;padding:120px 18px 64px;text-align:center;display:flex;flex-direction:column;justify-content:center;
  }
  .hero h1{font-size:2.6rem;line-height:1.02;margin-bottom:12px}
  .hero p{color:#d4d4d4;font-size:1.02rem;max-width:820px;margin:0 auto 18px}
  .cta-group{display:flex;gap:14px;justify-content:center;flex-wrap:wrap}
  .primary-cta{background:linear-gradient(90deg,var(--accent),#cfcfcf);color:#0f0f10;padding:12px 18px;border-radius:12px;font-weight:800;box-shadow:0 10px 30px rgba(0,0,0,0.45)}
  .secondary-cta{background:transparent;border:1px solid var(--glass);padding:12px 16px;border-radius:12px;color:var(--muted);font-weight:700}

  section{max-width:1000px;margin:26px auto;padding:22px}
  section h2{font-size:1.6rem;margin-bottom:10px;color:#f4f4f4}
  .services-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:20px}
  .service-card{background:var(--panel);border-radius:var(--radius);overflow:hidden;box-shadow:0 14px 34px rgba(0,0,0,0.55);transition:transform .18s}
  .service-card:hover{transform:translateY(-6px)}
  .service-card img{width:100%;height:140px;object-fit:cover;display:block}
  .service-info{padding:14px}
  .service-info h3{font-size:1.05rem;margin-bottom:6px}
  .service-info p{color:var(--muted);font-size:0.95rem;margin-bottom:10px}
  .service-info .price{font-weight:800;color:var(--gold)}

  .ad-slider{display:flex;overflow-x:auto;gap:16px;padding:10px;scroll-snap-type:x mandatory;-webkit-overflow-scrolling:touch}
  .ad-slide{min-width:260px;flex:0 0 auto;height:170px;border-radius:12px;padding:16px;scroll-snap-align:center;display:flex;flex-direction:column;justify-content:space-between;font-weight:800;box-shadow:0 12px 34px rgba(0,0,0,0.6)}
  .scroll-dots{margin-top:12px;display:flex;justify-content:center;gap:10px}
  .scroll-dot{width:12px;height:12px;border-radius:50%;background:#2c2c2c;cursor:pointer}
  .scroll-dot.active{background:var(--gold)}

  .testimonials{display:flex;gap:16px;flex-wrap:wrap}
  .testimonial{background:linear-gradient(180deg,#111,#151515);padding:12px;border-radius:10px;min-width:220px;box-shadow:0 8px 22px rgba(0,0,0,0.5)}
  .testimonial p{color:var(--muted);margin-bottom:8px}
  .testimonial strong{color:#fff}

  footer{padding:20px;text-align:center;color:#bfc6cb;background:linear-gradient(90deg,#0b0b0d,#111214);margin-top:18px}

  #backToTop{position:fixed;bottom:18px;right:18px;background:#151516;color:#f1f1f1;border:0;padding:10px 12px;border-radius:50px;display:none;box-shadow:0 12px 34px rgba(0,0,0,0.5)}

  /* Toast */
  .toast{position:fixed;left:50%;transform:translateX(-50%);bottom:28px;background:#101112;padding:12px 16px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.6);color:#e6e6e6;font-weight:700;opacity:0;pointer-events:none;transition:opacity .26s}
  .toast.show{opacity:1;pointer-events:auto}

  @media (max-width:640px){
    .hero{padding:96px 14px 44px}
    .hero h1{font-size:1.9rem}
    .modern-drawer{width:86%}
  }
</style>
</head>
<body>

<header class="modern-header" role="banner">
  <div class="branding">
    <div class="logo-title">King's Cut Barbershop</div>
    <div class="tagline">House-call barbering â€” Soweto & Roodepoort</div>
  </div>

  <div style="display:flex;align-items:center;gap:12px">
    <a id="loyaltyLabel" href="register.html" style="font-weight:800;color:var(--muted);">Register for Loyalty Points</a>
    <button class="menu-icon" id="menuBtn" aria-label="Open menu"><span class="top"></span><span class="middle"></span><span class="bottom"></span></button>
  </div>
</header>

<div class="placeholder-space"></div>

<nav class="modern-drawer" id="drawer" aria-hidden="true">
  <h2>Menu</h2>
  <ul>
    <li><a href="#home" onclick="closeDrawer()">Home</a></li>
    <li><a href="#about" onclick="closeDrawer()">About</a></li>
    <li><a href="booking.html" onclick="closeDrawer()">Book Now</a></li>
    <li><a href="gallery.html" onclick="closeDrawer()">Gallery</a></li>
    <li><a href="advertising.html" onclick="closeDrawer()">Advertising</a></li>
    <li><a href="register.html" onclick="closeDrawer()">Register for Loyalty Points</a></li>
  </ul>
  <div style="margin-top:18px">
    <a class="drawer-btn whatsapp" href="https://wa.me/27635892769" target="_blank">ðŸ’¬ WhatsApp</a>
    <a class="drawer-btn call" href="tel:+27635892769">ðŸ“ž Call</a>
  </div>
</nav>

<section class="hero" id="home">
  <h1>Premium Grooming â€” Delivered To You</h1>
  <p>King's Cut brings professional fades, beard sculpting and top-quality service straight to your doorstep across Gauteng. Book a house-call or join our loyalty programme.</p>
  <div class="cta-group" style="margin-top:12px">
    <a class="primary-cta" href="booking.html">Book Now</a>
    <a class="primary-cta" href="register.html">Register for Loyalty Points</a>
    <a class="secondary-cta" href="#services">View Services</a>
  </div>
</section>

<section id="about">
  <h2>About Me</h2>
  <p>I'm <strong>Owethu Mbuli</strong> â€” a professional house-call barber serving Soweto, Roodepoort & surrounds. I bring a clean kit, respectful service and professional results to your doorway.</p>
</section>

<section id="services">
  <h2>Services & Pricing</h2>
  <div class="services-grid">
    <div class="service-card">
      <img src="fade.jpg" alt="Fresh Fade (placeholder)">
      <div class="service-info">
        <h3>Fresh Fade</h3>
        <p>Skin, mid or high - precise lines & blended fades.</p>
        <div class="price">From R120</div>
      </div>
    </div>
    <div class="service-card">
      <img src="beard.jpg" alt="Beard Sculpting">
      <div class="service-info">
        <h3>Beard Sculpting</h3>
        <p>Shape, line-up and condition for a perfect finish.</p>
        <div class="price">From R80</div>
      </div>
    </div>
    <div class="service-card">
      <img src="clipper.jpg" alt="Clipper Cut">
      <div class="service-info">
        <h3>Clipper All Over</h3>
        <p>Fast, neat all-over clipper cut.</p>
        <div class="price">From R70</div>
      </div>
    </div>
  </div>
</section>

<section id="promos">
  <h2>Featured Promotions</h2>
  <div class="ad-slider" id="adSlider" aria-live="polite">
    <div class="ad-slide" style="background:linear-gradient(180deg,#f5c764,#c9a84a);color:#111">
      <div>Fresh Fade Saturdays</div>
      <small style="opacity:.9">Limited slots every Saturday</small>
    </div>
    <div class="ad-slide" style="background:linear-gradient(180deg,#86b9d9,#4e8fb2);color:#fff">
      <div>Student Discount</div>
      <small style="opacity:.95">Show student ID for R20 off</small>
    </div>
    <div class="ad-slide" style="background:linear-gradient(180deg,#a7e6c2,#65c08a);color:#111">
      <div>Product Launch</div>
      <small style="opacity:.9">Be the first to try our oil</small>
    </div>
  </div>
  <div class="scroll-dots" id="scrollDots" aria-hidden="false"></div>
</section>

<section id="testimonials">
  <h2>What Clients Say</h2>
  <div class="testimonials">
    <div class="testimonial">
      <p>"Fast, clean and professional â€” 5 stars!"</p>
      <strong>â€” Thabo M.</strong>
    </div>
    <div class="testimonial">
      <p>"House-call made it easy â€” great fade."</p>
      <strong>â€” Sipho K.</strong>
    </div>
    <div class="testimonial">
      <p>"Excellent attention to detail and on time."</p>
      <strong>â€” Nozipho T.</strong>
    </div>
  </div>
</section>

<section id="contact">
  <h2>Contact</h2>
  <p>Email: <a href="mailto:owethuandrew10@gmail.com">owethuandrew10@gmail.com</a></p>
  <p>Phone: <a href="tel:+27635892769">063 589 2769</a></p>
  <div style="margin-top:12px">
    <a class="primary-cta" href="register.html">Register for Loyalty Points</a>
  </div>
</section>

<footer>
  &copy; 2025 King's Cut Barbershop â€” Crafted by NextWeb.
</footer>

<button id="backToTop" aria-label="Back to top">â¬†</button>

<div class="toast" id="toast"></div>

<script>
/* -------------------- UI Helpers -------------------- */
function showToast(msg, time=2200){
  const t=document.getElementById('toast');
  t.textContent=msg; t.classList.add('show');
  clearTimeout(t._timeout);
  t._timeout=setTimeout(()=>t.classList.remove('show'),time);
}

/* -------------------- Drawer -------------------- */
const menuBtn=document.getElementById('menuBtn'), drawer=document.getElementById('drawer');
menuBtn.addEventListener('click', ()=>{ drawer.classList.toggle('active'); menuBtn.classList.toggle('active'); });
function closeDrawer(){ drawer.classList.remove('active'); menuBtn.classList.remove('active'); }

/* -------------------- Loyalty label update -------------------- */
function updateLoyaltyLabel(){
  const logged = localStorage.getItem('kc_logged');
  if(logged){
    const users = JSON.parse(localStorage.getItem('kc_users')||'{}');
    const user = users[logged];
    if(user) document.getElementById('loyaltyLabel').textContent = user.name + " â€” Loyalty";
  } else {
    document.getElementById('loyaltyLabel').textContent = 'Register for Loyalty Points';
  }
}
updateLoyaltyLabel();

/* -------------------- Back to top -------------------- */
const backBtn=document.getElementById('backToTop');
window.addEventListener('scroll', ()=> backBtn.style.display = (window.scrollY>320)?'block':'none');
backBtn.addEventListener('click', ()=> window.scrollTo({top:0,behavior:'smooth'}) );

/* -------------------- Ad slider with dots synced to swipe -------------------- */
(function(){
  const slider=document.getElementById('adSlider');
  const dotsContainer=document.getElementById('scrollDots');
  if(!slider) return;
  const slides=Array.from(slider.querySelectorAll('.ad-slide'));
  const gap=16;
  // build dots
  slides.forEach((_,i)=>{
    const d=document.createElement('div');
    d.className='scroll-dot'+(i===0?' active':'');
    d.dataset.index=i;
    d.addEventListener('click', ()=> slider.scrollTo({left:i*(slides[0].offsetWidth+gap),behavior:'smooth'}));
    dotsContainer.appendChild(d);
  });
  const dots=Array.from(dotsContainer.children);
  // update function
  function updateDots(){
    const fractional = slider.scrollLeft / (slides[0].offsetWidth + gap);
    const idx = Math.round(fractional);
    dots.forEach((dot,i)=> dot.classList.toggle('active', i===idx));
  }
  slider.addEventListener('scroll', updateDots, {passive:true});
  // auto-scroll
  let auto = setInterval(()=> {
    const cur = Math.round(slider.scrollLeft / (slides[0].offsetWidth + gap));
    const next = (cur + 1) % slides.length;
    slider.scrollTo({left: next * (slides[0].offsetWidth + gap), behavior:'smooth'});
  },4800);
  slider.addEventListener('mouseenter', ()=> clearInterval(auto));
  slider.addEventListener('mouseleave', ()=> {
    clearInterval(auto);
    auto = setInterval(()=> {
      const cur = Math.round(slider.scrollLeft / (slides[0].offsetWidth + gap));
      const next = (cur + 1) % slides.length;
      slider.scrollTo({left: next * (slides[0].offsetWidth + gap), behavior:'smooth'});
    },4800);
  });
})();

/* -------------------- PWA: create manifest & service worker dynamically -------------------- */
(function(){
  // Manifest blob (simple, with inline SVG icon)
  const manifest = {
    name: "King's Cut Barbershop",
    short_name: "King's Cut",
    start_url: "./index.html",
    display: "standalone",
    background_color: "#0f0f11",
    theme_color: "#0f0f11",
    icons: [{
      src: "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='512' height='512'%3E%3Crect width='100%25' height='100%25' fill='%230f0f11'/%3E%3Ctext x='50%25' y='56%25' text-anchor='middle' font-size='260' fill='%23c9a84a' font-family='Segoe UI, Arial'%3EK%3C/text%3E%3C/svg%3E",
      sizes: "512x512",
      type: "image/svg+xml"
    }]
  };
  const manBlob = new Blob([JSON.stringify(manifest)], {type: 'application/json'});
  const manURL = URL.createObjectURL(manBlob);
  const link = document.createElement('link'); link.rel='manifest'; link.href = manURL;
  document.head.appendChild(link);

  // Service worker script (basic offline cache)
  if('serviceWorker' in navigator){
    const swCode = `
      const CACHE = 'kc-v1';
      const assets = ['./index.html'];
      self.addEventListener('install', e => { e.waitUntil(caches.open(CACHE).then(c => c.addAll(assets))); self.skipWaiting(); });
      self.addEventListener('activate', e => { e.waitUntil(self.clients.claim()); });
      self.addEventListener('fetch', e => { e.respondWith(caches.match(e.request).then(r => r || fetch(e.request)).catch(()=>caches.match('./index.html'))); });
    `;
    const swBlob = new Blob([swCode], {type:'application/javascript'});
    const swUrl = URL.createObjectURL(swBlob);
    navigator.serviceWorker.register(swUrl).then(()=> console.log('SW registered')).catch(()=> console.warn('SW failed'));
  }
})();
</script>

</body>
</html>
